.container
  .row.mb-3
    .col
      -# Graph on left
      .gt-card{ style: "display: flex; flex-direction: column; height: 100%;" }
        %h2 Your Time Spent
        .chart-container
          = line_chart @module_data, legend: false, width: "100%" #, height:"100%"

    
    .col
      -# Modules
      .gt-card.module-list.mb-3
        %h2.d-flex.justify-content-between.align-items-center
          Current Modules
          = link_to "(View All)", uni_modules_path, style: "font-weight: normal;"
        - @uni_modules.each do |m|
          = link_to m do
            .row
              .col-3= m.code
              .col= m.name
              .col-3.text-end= "#{number_with_precision(m.weighted_average, precision: 0)}%"
            .row.progress-bar.px-12px
              .progress{style: "width: #{m.completion_percentage}%"}

      -# Quick-add time
      .gt-card.quicklog
        %h2 Quicklog
        = form_with model: @timelog, url: quick_log_path, local: true do |f|
          = f.label :module_code
          = f.text_field :module_code
          = f.label :minutes
          = f.number_field :minutes
          = f.submit 'Add Time'
  .row
    .col 
      .gt-card
        %h2 Upcoming Exams
    .col
      .gt-card
        %h2 Type Split
        .chart-container
          = pie_chart @exam_type_data, legend: false, width: "100%" #, height:"100%"